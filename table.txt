1. Design the Single Table (Enquiry)
Let's list all the fields you'll likely need, based on your frontend pages and typical student enquiry flows:
A. Basic Info (Page 1)
id (auto)
name
email
phone
current_location
module (subject/module of enquiry)
timing (preferred training mode)
trainingTime (preferred training timings)
startTime (how soon to start)
profession (student's professional situation)
qualification (highest qualification)
experience (years of experience)
referral (how did they hear about you)
consent (boolean)
B. Enquiry Details (Page 2, for counselors)
calling1 (call status 1)
calling2
calling3
calling4
calling5
previous_interaction (notes or status)
status (e.g., 'new', 'in_progress', 'moved', etc.)
C. Demo/Batch/Accounts (Page 3, for accounts)
batch_code
batch_subject
demo_class_status
payment_status
move_to_demo (boolean or status)
admin_notes
D. HR/Placement/Interview (Pages for HR)
placement_status
placement_notes
interview_status
interview_notes
E. System Fields
created_at
updated_at
user (ForeignKey to User, if you want to track who created/edited)

----------------------------------------------------
Complete the Counsellor's Part
For the counsellor role, you want to enable:
View and access:
/enquiry-form (POST to /api/enquiries/)
/enquiry-list (GET from /api/enquiries/)
/demo-list (GET from /api/demo_lists/)
What we need to ensure:
Enquiry Form: Submits new enquiries to /api/enquiries/ (already set up).
Enquiry List: Fetches and displays data from /api/enquiries/ (mapping is now correct).
Demo List: Fetches data from /api/demo_lists/.
Sidebar: Only shows these three links for counsellors (already implemented).
Role-based API access: If you want to restrict API access on the backend,
 make sure your Django views check the user's role.




 DemoList:
 import React, { useState, useEffect } from 'react';
import axios from 'axios';
import './DemoList.css';
import { IoSearch } from "react-icons/io5";

const DemoList = ({ isSidebarOpen }) => {
  const [demoData, setDemoData] = useState([]);
  const [searchTerm, setSearchTerm] = useState('');


  useEffect(() => {
    fetchDemoList();
  }, []);
  const fetchDemoList = async () => {
    const token = localStorage.getItem('access');
    try {
      const response = await axios.get('http://localhost:8000/api/enquiries/', {
        headers: { Authorization: `Bearer ${token}` },
      });
      const mapped = response.data
        .filter(item => !item.move_to_demo) // Only show students not moved to demo
        .map((item) => ({
          id: item.id,
          name: item.name,
          phone: item.phone,
          email: item.email,
          code: item.batch_code || '',
          package: item.module || '',
          status: item.demo_class_status || '',
        }));
      setDemoData(mapped);
      // console.log('DemoList data:', response.data);
    } catch (error) {
      setDemoData([]);
      // Optionally show error toast
    }
  };


  // Move: delete from EnquiryList (if you want to remove from demo view)
  const handleMoveBackToEnquiryList = async (id) => {
    const token = localStorage.getItem('access');
    try {
      await axios.delete(`http://localhost:8000/api/enquiries/${id}/`, {
        headers: {
          Authorization: `Bearer ${token}`,
        },
      });
      setDemoData((prev) => prev.filter((u) => u.id !== id));
    } catch (error) {
      // Optionally show toast.error('Failed to move')
    }
  };


  // Update status in EnquiryList
  const handleStatusChange = async (id, newStatus) => {
    console.log('Changing status for', id, 'to', newStatus);
    const token = localStorage.getItem('access');
    const user = demoData.find((u) => u.id === id);
    if (!user) return;
    try {
      const payload = {
        name: user.name,
        phone: user.phone,
        email: user.email,
        batch_code: user.code,
        module: user.package,
        demo_class_status: newStatus,
      };
      await axios.put(`http://localhost:8000/api/enquiries/${id}/`, payload, {
        headers: { Authorization: `Bearer ${token}` },
      });
      setDemoData((prev) =>
        prev.map((u) =>
          u.id === id ? { ...u, status: newStatus } : u
        )
      );
    } catch (error) {
      // Optionally show toast.error('Failed to update status')
    }
  };

  const filteredData = demoData.filter((user) =>
    (user.name || '').toLowerCase().includes(searchTerm.toLowerCase()) ||
    (user.email || '').toLowerCase().includes(searchTerm.toLowerCase())
  );

  console.log('Filtered data:', filteredData);
  console.log('demo data:', demoData);

  return (
    <div className={`demo-list-container ${!isSidebarOpen ? 'sidebar-closed' : ''}`}>
      <div className="header">
        <h2>Demo List</h2>
        <div className="search-box">
          <input
            type="text"
            placeholder="Search"
            aria-label="Search"
            role="searchbox"
            className="search-input"
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
            tabIndex={0}
          />
          <button className="search-button" tabIndex={0} aria-label="Search">
            <IoSearch />
          </button>
        </div>
      </div>
      <table className="demo-table">
        <thead>
          <tr>
            <th>Full Name</th>
            <th>Phone Number</th>
            <th>Email Address</th>
            <th>Package Code</th>
            <th>Package</th>
            <th>Demo Class Status</th>
            <th>Move?</th>
          </tr>
        </thead>
        <tbody>
          {/* {filteredData.length === 0 ? ( */}


          {demoData.length > 0 && demoData.map((user, index) => {
            console.log('User:', user);
            return <tr key={index}>
              <td>{user.fullName}</td>
              <td>{user.phone}</td>
              <td>{user.email}</td>
              <td>{user.code}</td>
              <td>{user.package}</td>
              <td>
                <select
                  className="demo-status-select"
                  value={user.status}
                  onChange={(e) => handleStatusChange(user.id, e.target.value)}
                  style={{
                    width: '150px',
                    height: '35px',
                    padding: '5px',
                    borderRadius: '4px',
                    border: '1px solid #ccc',
                    backgroundColor: '#fff',
                    fontSize: '14px'
                  }}
                >
                  <option value="Not yet started">Not yet started</option>
                  <option value="In progress">In progress</option>
                  <option value="Completed">Completed</option>
                </select>
              </td>
              <td>
                <button
                  className={`move-btn ${user.status !== 'Completed' ? 'disabled-btn' : ''}`}
                  disabled={user.status !== 'Completed'}
                  onClick={() => handleMoveBackToEnquiryList(user.id)}
                >
                  move
                </button>
              </td>
            </tr>
          })
          }

        </tbody>
      </table>
    </div>
  );
};

export default DemoList;